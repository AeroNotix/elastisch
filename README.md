# Elastish - Clojure client for ElasticSearch REST API

[![Continuous Integration status](https://secure.travis-ci.org/clojurewerkz/elastisch.png)](http://travis-ci.org/clojurewerkz/elastisch)

Basic reasoning behind that project is to create a good reference implementation for ES API, allow
people to use it with arbitrary DBs and use it in distributed / high performant systems.

Most of operations on Indexes, and Queries are supported. Very easy to use and understand. All
options are implemented as Clojure keys, so you'll see compile-time notifications for incorrectly
written queries.

Next milestone is making API even more accessible, describing most important operations in quickstart
guide and improving docs in code.

# Quickstart

## Creating an index with mapping

```clojure
(let [mapping { :person {
                  :properties {
                  :first-name { :type "string" :store "yes" }
                  :last-name  { :type "string" }
                  :title      { :type "string" :analyzer "snowball" }
                  :biography  { :type "string" :analyzer "snowball"}}}}]
  (elastisch.index/create "people" :mappings mapping))
```

## Storing documents in index
```clojure
(let [document {:first-name "Jack"
              :last-name  "Black"
              :title      "Sales Manager"
              :biography  "Tries to avoid eating fat, being good to other people and does sports every now and then" }]
  ;; with autogenerated id
  (elastisch.core/create "people" "person" document)

  ;; manually set id
  (elastisch.core/put "people" "person" 152 document))
```

## Querying index
```clojure
  (elastisch.core/search :query (elastisch.query/term :foo "bar"))
```

# Why not wrap Java API?

Potentially you may get a performance gain wrapping Java API directly, or implementing your driver
in the same manner, since rest API uses it directly. Personally, I can't see that very useful, and
creating a wrapper could potentially make Elastish less Clojurish.

# Pitfalls

Right now clj-http's default behavior (throw exceptions) is off. Most likely, that will become configurable,
throwing exceptions by default, since REST client should behave as close to binary driver as possible and
mimic server behavior where possible.


# Current status

We're currently working hard on improving design and implementing missing features.
You can certainly help us by testing, implementing things you need or even by using and giving us some
feedback.

New snapshots are released to [clojars.org](https://clojars.org/clojurewerkz/elastisch) every few days.

## License

Copyright (C) 2011 Alex Petrov

Distributed under the Eclipse Public License, the same as Clojure.

